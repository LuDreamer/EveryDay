<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        //创建Promise
        // 示例：模拟异步请求
// const promise = new Promise((resolve, reject) => {
//   setTimeout(() => {
//     const success = true;
//     if (success) {
//       resolve("请求成功，返回数据"); // 成功：状态 → fulfilled
//     } else {
//       reject(new Error("请求失败，网络错误")); // 失败：状态 → rejected
//     }
//   }, 1000);
// });
      //处理异步结果
        // promise
        // .then((data)=>{
        //     console.log("成功处理，",data);
        //     return data+".已处理"
        // }).then((processedData)=>{
        //     console.log("二次处理，",processedData);
        // })
        // .cacth((error)=>{
        //     console.log("错误处理：",error.message);//若失败，输出错误信息
        // })
        // .finally(()=>{
        //     console.log('操作结束  无论成功、失败');
        // })
// 模拟异步请求函数（返回 Promise）
function fetchData(step) {
  return new Promise((resolve) => {
    setTimeout(() => {
    //   const success = true;
    // if (success) {
      resolve(`第${step}步结果`); // 成功：状态 → fulfilled
    // } else {
    //   reject(new Error("请求失败，网络错误")); // 失败：状态 → rejected
    // }
    }, 1000);
  });
}
        // 三个并行的异步任务
const task1 = fetchData(1);
const task2 = fetchData(2);
const timeUp=new Promise((resolve,reject) => {
    setTimeout(() => {
      reject(new Error("请求失败，网络错误")); // 失败：状态 → rejected
    },500)
    })

// 等待所有任务完成，返回结果数组
Promise.race([task1, task2, timeUp]).then((results) => {
  console.log("所有任务结果：", results); // ['第1步结果', '第2步结果', '第3步结果']
}).catch((err)=>console.log("操作超时",err));
    </script>
</body>
</html>