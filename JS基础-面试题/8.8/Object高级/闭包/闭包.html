<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>闭包的yinguo</title>
</head>
<body>
    <script>
//返回函数
        function fn1(){
            let name='wang'
           function fn2(){
            console.log(name);
           }
           return fn2
        }
        let getname=fn1()
        getname()


//         function outer() {
//   // 外部函数的变量
//   const outerVar = "我是外部变量";
  
//   // 内部函数（嵌套）
//   function inner() {
//     // 内部函数引用外部变量（条件2）
//     console.log(outerVar); 
//   }
  
//   // 外部函数返回内部函数（条件3：内部函数被外部引用）
//   return inner; 
// }

// // 调用外部函数，得到内部函数的引用
// const closureFunc = outer(); 

// // 此时 outer 已执行完毕，但 inner 仍能访问 outerVar
// closureFunc(); // 输出："我是外部变量" → 闭包生效

//2.作为函数参数传递
function outer() {
  // 外部函数的变量
  const outerVar = "我是外部变量";
  
  // 内部函数（嵌套）
  function inner() {
    // 内部函数引用外部变量（条件2）
    console.log(outerVar); 
  }
  outerCall(inner)
}
function outerCall(fun){
    fun()
}

outer()

// 3.异步任务，任何回调函数

function setupTimer() {
    let count = 0;
  // 定时器回调引用外部变量 count
  setInterval(function() {
    count++
    console.log(count); // 每次执行都能访问 count
  }, 1000);
}

setupTimer(); // 每隔1秒输出 1（闭包保留了 count 的引用）

    </script>
</body>
</html>